# Запуск проекта

- уточните настройки базы данных в файле config/database.php

- добавьте хосты в базу данных по очереди, с помощью команды

```sudo php commands/add_host.php <next_host_name>```

- уточните настройки проверки хостов в файле config/check_hosts.php

- запустите проверяющий скрипт

```sudo php commands/check_hosts.php```

- уточните настройки показа результатов хостов в файле config/hosts_status_api.php

- запустите сервер из папки public:

```php -S localhost:8080 public/index.php```


# Структура проекта

Для сбора данных предоставлены две команды (папка commands): одна позволяет зарегистрировать новые хосты в БД (add_host.php), вторая запускает опрашивание серверов (check_hosts.php). Вторая опрашивает хосты, добавленные через первую.

Для вывода результатов предоставлен веб-интерфейс. Выводится на корневом маршруте. Javascript на фронтенде обращается к бекенду через API с адресом api/hosts и получает данные в потоке.


# Использованные технологии

Для опроса хостов использованы сокеты.

Для вывода результатов в браузер использованы server-sent events.


# Использованные пакеты

Маршрутизацию обеспечивает Fast Route. Маршрутизатор инициализируется в файле bootstrap/router.php

Для быстрого базового доступа к БД использована RedBeanPHP. RedBeanPHP и PDOHelpers инициализируются в файле bootstrap/database.php


# Порядок работы проекта

Для зримого результата (чтобы изменения в браузере были видны), должны быть параллельно запущены

- команда опроса хостов

- сервер, обеспечивающий вывод в браузер фронтенда и его доступ к API

Перед запуском команды опроса хостов необходимо наполнить таблицу хостов - добавьте хотя бы два-три доменных имени (вроде 'yandex.ru')